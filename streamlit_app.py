import streamlit as st
import pandas as pd
import numpy as np
import plotly.express as px

# -------------------------------
# 1. ê¸°ë³¸ ì„¤ì •
# -------------------------------
st.set_page_config(
    page_title="íƒêµ¬ ì„ ìˆ˜ ê²½ë ¥ í†µê³„ ë¶„ì„",
    page_icon="ğŸ“",
    layout="wide"
)

# -------------------------------
# 2. ì œëª©
# -------------------------------
st.title("ğŸ“ íƒêµ¬ ì„ ìˆ˜ì˜ ì§ì—… ê²½ë ¥ í†µê³„ ë¶„ì„")
st.write("í”„ë¡œ íƒêµ¬ ì„ ìˆ˜ë“¤ì˜ ê²½ê¸° ìˆ˜, ìŠ¹ë¥ , ìš°ìŠ¹ ê¸°ë¡ ë“±ì„ ì‹œê°í™”í•˜ì—¬ í•œëˆˆì— ë¶„ì„í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.")

# -------------------------------
# 3. ì˜ˆì‹œ ë°ì´í„° ìƒì„± (ì‹¤ì œ ë°ì´í„°ë¡œ êµì²´ ê°€ëŠ¥)
# -------------------------------
players = {
    "ì„ ìˆ˜ëª…": ["íŒì  ë™", "ë§ˆë¡±", "ì¥ë³¸", "ì´ìƒìˆ˜", "ì¥ìš°ì§„", "í‹°ëª¨ ë³¼"],
    "êµ­ê°€": ["ì¤‘êµ­", "ì¤‘êµ­", "ì¤‘êµ­", "í•œêµ­", "í•œêµ­", "ë…ì¼"],
    "ë‚˜ì´": [27, 36, 25, 33, 28, 43],
    "ì„¸ê³„ë­í‚¹ ìµœê³ ": [1, 1, 3, 6, 5, 1],
    "ìš°ìŠ¹ íšŸìˆ˜": [23, 30, 12, 5, 8, 27],
    "ì»¤ë¦¬ì–´ ê²½ê¸° ìˆ˜": [420, 680, 350, 500, 410, 900],
    "ìŠ¹ë¥ (%)": [89, 86, 78, 74, 76, 80]
}

df = pd.DataFrame(players)

st.subheader("ğŸ“‹ ì„ ìˆ˜ ê¸°ë³¸ ë°ì´í„°")
st.dataframe(df, use_container_width=True)

# -------------------------------
# 4. ìŠ¹ë¥  ë¹„êµ ê·¸ë˜í”„
# -------------------------------
st.subheader("ğŸ“ˆ ì„ ìˆ˜ë³„ ìŠ¹ë¥  ë¹„êµ")

fig_winrate = px.bar(
    df,
    x="ì„ ìˆ˜ëª…",
    y="ìŠ¹ë¥ (%)",
    color="êµ­ê°€",
    title="ì„ ìˆ˜ ìŠ¹ë¥  ë¹„êµ",
    text="ìŠ¹ë¥ (%)"
)

fig_winrate.update_layout(xaxis_title="ì„ ìˆ˜", yaxis_title="ìŠ¹ë¥  (%)")
st.plotly_chart(fig_winrate, use_container_width=True)

# -------------------------------
# 5. ê²½ê¸° ìˆ˜ ë¹„êµ
# -------------------------------
st.subheader("ğŸ† ì„ ìˆ˜ë³„ ì»¤ë¦¬ì–´ ê²½ê¸° ìˆ˜")

fig_matches = px.line(
    df,
    x="ì„ ìˆ˜ëª…",
    y="ì»¤ë¦¬ì–´ ê²½ê¸° ìˆ˜",
    markers=True,
    title="ì»¤ë¦¬ì–´ ê²½ê¸° ìˆ˜ ë¹„êµ"
)

st.plotly_chart(fig_matches, use_container_width=True)

# -------------------------------
# 6. ìš°ìŠ¹ íšŸìˆ˜ ë¹„êµ
# -------------------------------
st.subheader("ğŸ¥‡ ì„ ìˆ˜ ìš°ìŠ¹ íšŸìˆ˜ ë¹„êµ")

fig_titles = px.bar(
    df,
    x="ì„ ìˆ˜ëª…",
    y="ìš°ìŠ¹ íšŸìˆ˜",
    color="ì„ ìˆ˜ëª…",
    title="ìš°ìŠ¹ íšŸìˆ˜"
)

st.plotly_chart(fig_titles, use_container_width=True)

# -------------------------------
# 7. êµ­ê°€ë³„ ë¶„í¬
# -------------------------------
st.subheader("ğŸŒ êµ­ê°€ë³„ ì„ ìˆ˜ ë¶„í¬")

fig_country = px.pie(
    df,
    names="êµ­ê°€",
    title="êµ­ê°€ë³„ ì„ ìˆ˜ ë¹„ìœ¨"
)

st.plotly_chart(fig_country, use_container_width=True)
